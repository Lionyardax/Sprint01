<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="font/inter.css">
        <link rel="stylesheet" href="style.css">
        <title>Encriptador</title>
    </head>

    <body>
        <script>

            function textAreaAdjust(element){

                element.style.display = "inline";
                element.style.height = "1px";
                element.style.height = (25+element.scrollHeight)+"px";

            }



            function botonEncripta(){     
                if (document.getElementById("texto_introducido").value != 0) {
                    var textoIntroducido = document.getElementById("texto_introducido").value;
                    document.getElementById("texto_resultante").value = encriptarTexto(textoIntroducido); 

                    function encriptarTexto (textoIntroducido){
                        

                        var textoEncriptado = textoIntroducido.replace(/e/g,'enter');
                        textoEncriptado = textoEncriptado.replace(/i/g,'imes');
                        textoEncriptado = textoEncriptado.replace(/a/g,'ai');
                        textoEncriptado = textoEncriptado.replace(/o/g,'ober');
                        textoEncriptado = textoEncriptado.replace(/u/g,'ufat');                 
                        return textoEncriptado;

                    }    
                    var element=document.getElementById("texto_resultante");
                    
                    element.style.display = "inline";
                    element.style.height = "1px";
                    element.style.height = (25+element.scrollHeight)+"px";
                    document.getElementById("muneco").remove();
                    document.getElementById("texto1").remove();
                    document.getElementById("texto2").remove();
                    document.getElementById("copia").style.display = "flex";
                    if (window.matchMedia("(max-width: 1439px)").matches) {

                        var rectangulo = document.getElementById("rectangulo");
                        var texto = document.getElementById("texto_resultante").offsetHeight;
                        var copia = document.getElementById("copia").offsetHeight;
                        rectangulo.style.display = "flex";
                        rectangulo.style.height = (25 + texto + copia)+"px";

                    }
                
                }
                else {
                    
                    
                    location.reload();
                
                }

            }

            function botonDesencripta(){     

                if (document.getElementById("texto_introducido").value != 0) {

                    var textoIntroducido = document.getElementById("texto_introducido").value;                        
                    document.getElementById("texto_resultante").value = desencriptarTexto(textoIntroducido);

                    function desencriptarTexto(textoIntroducido){

                        var textoDesencriptado = textoIntroducido.replace(/enter/g,'e');
                        textoDesencriptado = textoDesencriptado.replace(/imes/g,'i');
                        textoDesencriptado = textoDesencriptado.replace(/ai/g,'a');
                        textoDesencriptado = textoDesencriptado.replace(/ober/g,'o');
                        textoDesencriptado = textoDesencriptado.replace(/ufat/g,'u');         
                        return textoDesencriptado;
            

                    }
                    var element=document.getElementById("texto_resultante");
                    element.style.display = "flex";
                    element.style.height = "1px";
                    element.style.height = (25+element.scrollHeight)+"px";
                    document.getElementById("muneco").remove();
                    document.getElementById("texto1").remove();
                    document.getElementById("texto2").remove();
                    document.getElementById("copia").style.display = "flex";
                    if (window.matchMedia("(max-width: 1439px)").matches) {

                            var rectangulo = document.getElementById("rectangulo");
                            var texto = document.getElementById("texto_resultante").offsetHeight;
                            var copia = document.getElementById("copia").offsetHeight;
                            rectangulo.style.display = "flex";
                            rectangulo.style.height = (25 + texto + copia)+"px";

                        }
                }    
                else {
                    
                    
                    location.reload();
                
                }          
            }    

            function copia(){

                var textoCopia = document.getElementById("texto_resultante");


                navigator.clipboard.writeText(textoCopia.value);

                document.getElementById("texto_introducido").value = textoCopia.value;

            }
            
        </script>

            <img class="logo" src="img/Vector.svg">

            <fieldset>
                <textarea onkeyup="textAreaAdjust(this)" type="text" placeholder="Ingrese Texto Aqui" id="texto_introducido"></textarea>
            </fieldset>
            
            <fieldset id="rectangulo" class="rectangulo">
                <textarea id="texto1" class="texto1" placeholder="NingÃºn mensaje fue encontrado" readonly></textarea>
                <textarea id="texto2" class="texto2" placeholder="Ingresa el texto que desees encriptar o desencriptar"readonly></textarea>
                <textarea id="texto_resultante" class="texto3" readonly></textarea>
                <input id="copia" class="copia" type="submit" onclick="copia()" value="Copia Texto">
            </fieldset>

            <label  class="textoadvert">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">                
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                </svg> 
                Solo letras minusculas y sin acentos
            </label>

            <fieldset class="buttonSet">
                
                <input class="encripta" type="submit" onclick="botonEncripta()" value="Encriptar">
                <input class="desencripta" type="submit" onclick="botonDesencripta()" value="Desencriptar">
            </fieldset>
        
            <img class="muneco" id= "muneco" src="img/Muneco.svg"> 
           
            
 
    </body>
</html>
